import{A as l,B as we,C as Se,D as y,E as v,F as c,G as a,H as I,I as V,J as h,K as w,L as d,M as S,N as G,O as x,P as M,Q as E,R as xe,S as Me,T as Z,U as q,V as Ee,W as P,X as Ne,Y,Z as Ie,_ as k,a as z,b as L,c as le,d as ue,da as Oe,e as pe,f as re,fa as T,g as me,h as he,ha as R,i as fe,j as ge,k as se,ka as j,l as ve,m as O,n as K,o as be,p as F,q as g,qa as X,r as W,s as Ce,sa as Fe,t as U,u as D,ua as _,v as _e,va as Ue,w as s,wa as b,x as ye,y as H,z as u}from"./chunk-YPBYPRW2.js";var B=(()=>{let n=class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api/users"}getAllUsers(){return this.http.get(this.apiUrl)}createUser(t){return this.http.post(this.apiUrl,t)}updateUser(t,i){return this.http.patch(`${this.apiUrl}/${t}`,i)}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`)}checkUsernameExists(t){return this.http.get(`${this.apiUrl}/exists/${t}`)}};n.\u0275fac=function(i){return new(i||n)(F(k))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Pe=(()=>{let n=class n{constructor(t,i,r){this.authService=t,this.router=i,this.userService=r,this.username=""}ngOnInit(){this.username=this.authService.getUser(),console.log("Propietario de la nota:",this.username)}notes(){this.router.navigate(["/user/notes"])}friendship(){this.router.navigate(["/user/friendship"])}return(){this.router.navigate(["/admin"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}deleteAccount(){confirm("\xBFEst\xE1s seguro de que quieres eliminar este usuario?")&&this.userService.deleteUser(this.username).subscribe(()=>{console.log("User deleted successfully")},t=>{console.error(t)})}};n.\u0275fac=function(i){return new(i||n)(l(b),l(_),l(B))},n.\u0275cmp=g({type:n,selectors:[["app-admin-home"]],decls:23,vars:1,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],[1,"main-action-button"],[3,"click"],[1,"logout-banner"],[1,"return-button"],[1,"logout-button"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),d(3,"NoteSphere"),a()(),c(4,"div",3)(5,"div",4)(6,"button",5),h("click",function(){return r.notes()}),d(7,"Notes"),a()(),c(8,"div",4)(9,"button",5),h("click",function(){return r.friendship()}),d(10,"Friendship"),a()()(),c(11,"div",6)(12,"div",7)(13,"button",5),h("click",function(){return r.return()}),d(14,"Return"),a()(),c(15,"span"),d(16,"Welcome again, "),c(17,"span",2),d(18),a(),d(19,"!"),a(),c(20,"div",8)(21,"button",5),h("click",function(){return r.logout()}),d(22,"Exit"),a()()()()),i&2&&(u(18),S(r.username))},styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:100vh;overflow-x:hidden;overflow-y:auto}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:60px;display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:40px;margin-bottom:60px;position:absolute;inset:0}.main-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:50px 100px;border-radius:8px;margin:50px;font-size:35px;cursor:pointer;box-shadow:0 7px 14px #0000001a}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 -4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;visibility:hidden}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .main-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let e=n;return e})();var N=(()=>{let n=class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api/notes"}getAllNotes(){return this.http.get(this.apiUrl)}getNotesByOwner(t){return this.http.get(`${this.apiUrl}/owner/${t}`)}getNoteById(t){return this.http.get(`${this.apiUrl}/${t}`)}createNote(t){return this.http.post(this.apiUrl,t)}updateNote(t){return this.http.put(`${this.apiUrl}/${t._id}`,t)}deleteNote(t){return this.http.delete(`${this.apiUrl}/${t}`)}};n.\u0275fac=function(i){return new(i||n)(F(k))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function tt(e,n){if(e&1){let o=V();c(0,"a",21),h("click",function(){let i=U(o).$implicit,r=w().$implicit,m=w(2);return D(m.compartirNota(r,i))}),d(1),a()}if(e&2){let o=n.$implicit;u(),S(o.username)}}function nt(e,n){if(e&1){let o=V();c(0,"div")(1,"div",12)(2,"div",13)(3,"h5",14),d(4),a(),I(5,"div",15),c(6,"button",16),h("click",function(){let i=U(o).$implicit,r=w(2);return D(r.eliminarNota(i._id))}),d(7,"Eliminar"),a(),c(8,"div",17)(9,"button",18),d(10," Compartir "),a(),c(11,"div",19),y(12,tt,2,1,"a",20),a()(),c(13,"button",7),h("click",function(){let i=U(o).$implicit,r=w(2);return D(r.editarNota(i))}),d(14,"Editar"),a()()()()}if(e&2){let o=n.$implicit,t=w(2);u(4),S(o.title),u(),v("innerHTML",o.content,H),u(7),v("ngForOf",t.usuarios)}}function it(e,n){if(e&1&&(c(0,"div")(1,"div",10),y(2,nt,15,3,"div",11),a()()),e&2){let o=w();u(2),v("ngForOf",o.notas)}}function ot(e,n){e&1&&(c(0,"div",10)(1,"p"),d(2,"No hay notas disponibles."),a()())}var Te=(()=>{let n=class n{constructor(t,i,r,m){this.notesService=t,this.authService=i,this.router=r,this.userService=m,this.notas=[],this.usuarios=[],this.username=""}ngOnInit(){this.username=this.authService.getUser(),this.obtenerNotasPorUsuario(this.username),this.obtenerUsuarios()}obtenerNotasPorUsuario(t){this.notesService.getNotesByOwner(t).subscribe(i=>{this.notas=i},i=>{console.error("Error al obtener las notas:",i)})}obtenerUsuarios(){this.userService.getAllUsers().subscribe(t=>{this.usuarios=t},t=>{console.error("Error al obtener los usuarios:",t)})}eliminarNota(t){confirm("\xBFEst\xE1s seguro de que quieres eliminar esta nota?")&&this.notesService.deleteNote(t).subscribe(()=>{this.notas=this.notas.filter(i=>i._id!==t)},i=>{console.error("Error al eliminar la nota:",i)})}editarNota(t){this.router.navigate(["/user/notes/edit",t._id])}compartirNota(t,i){if(i.username===this.username){alert("No puedes compartir una nota contigo mismo.");return}this.notesService.getNotesByOwner(i.username).subscribe(r=>{if(r.find(p=>p.title===t.title&&p.content===t.content))alert("El usuario ya tiene esta nota.");else{let p=L(z({},t),{owner:i.username});this.notesService.createNote(p).subscribe(()=>console.log("Nota compartida con \xE9xito"),et=>console.error(et))}},r=>console.error(r))}navigateToCreateNote(){this.router.navigate(["/user/notes/create"])}};n.\u0275fac=function(i){return new(i||n)(l(N),l(b),l(_),l(B))},n.\u0275cmp=g({type:n,selectors:[["app-notas"]],decls:12,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","container mt-4",4,"ngIf"],[1,"container","mt-4"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"innerHTML"],[1,"btn","btn-danger",3,"click"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-success","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(i,r){i&1&&(c(0,"nav",0)(1,"h2",1),d(2,"Mis Notas"),a(),c(3,"button",2),I(4,"span",3),a(),c(5,"div",4)(6,"ul",5)(7,"li",6)(8,"button",7),h("click",function(){return r.navigateToCreateNote()}),d(9,"Agregar Nota"),a()()()()(),y(10,it,3,1,"div",8)(11,ot,3,0,"div",9)),i&2&&(u(10),v("ngIf",r.notas.length>0),u(),v("ngIf",r.notas.length===0))},dependencies:[P,Ne]});let e=n;return e})();var Re=(()=>{let n=class n{constructor(t,i){this.authService=t,this.router=i,this.username=""}ngOnInit(){this.username=this.authService.getUser(),console.log("Propietario de la nota:",this.username)}manageFriends(){this.router.navigate(["/user/friendship/friendManage"])}friendNotes(){this.router.navigate(["/user/friendship/friendNotes"])}};n.\u0275fac=function(i){return new(i||n)(l(b),l(_))},n.\u0275cmp=g({type:n,selectors:[["app-friendship"]],decls:7,vars:1,consts:[[1,"container"],[3,"click"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"h1"),d(2),a(),c(3,"button",1),h("click",function(){return r.manageFriends()}),d(4,"Gestionar amigos"),a(),c(5,"button",1),h("click",function(){return r.friendNotes()}),d(6,"Notas de amigos"),a()()),i&2&&(u(2),G("Bienvenido, ",r.username,""))}});let e=n;return e})();var ee,rt=new Uint8Array(16);function ce(){if(!ee&&(ee=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(rt)}var je=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function st(e){return typeof e=="string"&&je.test(e)}var Be=st;var f=[];for(te=0;te<256;++te)f.push((te+256).toString(16).substr(1));var te;function at(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=(f[e[n+0]]+f[e[n+1]]+f[e[n+2]]+f[e[n+3]]+"-"+f[e[n+4]]+f[e[n+5]]+"-"+f[e[n+6]]+f[e[n+7]]+"-"+f[e[n+8]]+f[e[n+9]]+"-"+f[e[n+10]]+f[e[n+11]]+f[e[n+12]]+f[e[n+13]]+f[e[n+14]]+f[e[n+15]]).toLowerCase();if(!Be(o))throw TypeError("Stringified UUID is invalid");return o}var Ae=at;function ct(e,n,o){e=e||{};var t=e.random||(e.rng||ce)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){o=o||0;for(var i=0;i<16;++i)n[o+i]=t[i];return n}return Ae(t)}var de=ct;var ne=()=>{let e=typeof window<"u"?window:void 0;return e&&e.tinymce?e.tinymce:null},dt=(()=>{class e{onBeforePaste=new s;onBlur=new s;onClick=new s;onCompositionEnd=new s;onCompositionStart=new s;onCompositionUpdate=new s;onContextMenu=new s;onCopy=new s;onCut=new s;onDblclick=new s;onDrag=new s;onDragDrop=new s;onDragEnd=new s;onDragGesture=new s;onDragOver=new s;onDrop=new s;onFocus=new s;onFocusIn=new s;onFocusOut=new s;onKeyDown=new s;onKeyPress=new s;onKeyUp=new s;onMouseDown=new s;onMouseEnter=new s;onMouseLeave=new s;onMouseMove=new s;onMouseOut=new s;onMouseOver=new s;onMouseUp=new s;onPaste=new s;onSelectionChange=new s;onActivate=new s;onAddUndo=new s;onBeforeAddUndo=new s;onBeforeExecCommand=new s;onBeforeGetContent=new s;onBeforeRenderUI=new s;onBeforeSetContent=new s;onChange=new s;onClearUndos=new s;onDeactivate=new s;onDirty=new s;onExecCommand=new s;onGetContent=new s;onHide=new s;onInit=new s;onInput=new s;onInitNgModel=new s;onLoadContent=new s;onNodeChange=new s;onPostProcess=new s;onPostRender=new s;onPreInit=new s;onPreProcess=new s;onProgressState=new s;onRedo=new s;onRemove=new s;onReset=new s;onResizeEditor=new s;onSaveContent=new s;onSetAttrib=new s;onObjectResizeStart=new s;onObjectResized=new s;onObjectSelected=new s;onSetContent=new s;onShow=new s;onSubmit=new s;onUndo=new s;onVisualAid=new s;static \u0275fac=function(t){return new(t||e)};static \u0275dir=Ce({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}})}return e})(),Ve=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ie=(e,n,o)=>re(e,n).pipe(se(o)),lt=(e,n,o)=>{ut(e).forEach(i=>{let r=e[i];ie(n,i.substring(2),o).subscribe(m=>{ft(r)&&e.ngZone.run(()=>r.emit({event:m,editor:n}))})})},ut=e=>{let n=$e(e.ignoreEvents,[]);return $e(e.allowedEvents,Ve).filter(t=>Ve.includes(t)&&!n.includes(t))},$e=(e,n)=>typeof e=="string"?e.split(",").map(o=>o.trim()):Array.isArray(e)?e:n,ze=0,pt=e=>{let o=new Date().getTime(),t=Math.floor(Math.random()*1e9);return ze++,e+"_"+t+ze+String(o)},Le=e=>typeof e<"u"&&e.tagName.toLowerCase()==="textarea",Ke=e=>typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" "),mt=(e,n)=>Ke(e).concat(Ke(n)),ht=()=>{},We=e=>e==null,ft=e=>e.observed||e.observers?.length>0,gt=()=>e=>e.pipe(he(),pe(()=>{})),vt=()=>{let e=new ue(null),n=e.pipe(me(Boolean),ge(([o,t])=>{let i=o.createElement("script");return i.referrerPolicy="origin",i.type="application/javascript",i.src=t,o.head.appendChild(i),re(i,"load").pipe(gt())}),fe({bufferSize:1,refCount:!0}));return{load:(...o)=>(e.getValue()||e.next(o),n),reinitialize:()=>{e.next(null)}}},bt=vt(),Ct=new be("TINYMCE_SCRIPT_SRC"),_t={provide:Oe,useExisting:ve(()=>A),multi:!0},A=(()=>{class e extends dt{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(o){this._disabled=o,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(o?"readonly":"design"):this._editor.setMode(o?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=ht;onChangeCallback;destroy$=new le;constructor(o,t,i,r,m){super(),this.cdRef=i,this.platformId=r,this.tinymceScriptSrc=m,this._elementRef=o,this.ngZone=t}writeValue(o){this._editor&&this._editor.initialized?this._editor.setContent(We(o)?"":o):this.initialValue=o===null?void 0:o}registerOnChange(o){this.onChangeCallback=o}registerOnTouched(o){this.onTouchedCallback=o}setDisabledState(o){this.disabled=o}ngAfterViewInit(){Ie(this.platformId)&&(this.id=this.id||pt("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),ne()!==null?this.initialise():this._element&&this._element.ownerDocument&&bt.load(this._element.ownerDocument,this.getScriptSrc()).pipe(se(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),ne()!==null&&ne().remove(this._editor)}createElement(){let o=typeof this.tagName=="string"?this.tagName:"div";this._element=document.createElement(this.inline?o:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Le(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise=()=>{let o=L(z({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:mt(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:t=>{this._editor=t,ie(t,"init",this.destroy$).subscribe(()=>{this.initEditor(t)}),lt(this,t,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(t)}});Le(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{ne().init(o)})};getScriptSrc(){return We(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(o){ie(o,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),ie(o,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(o))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{o.setContent(this.initialValue),o.getContent()!==this.initialValue&&this.emitOnChange(o),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(o)})}emitOnChange(o){this.onChangeCallback&&this.onChangeCallback(o.getContent({format:this.outputFormat}))}static \u0275fac=function(t){return new(t||e)(l(_e),l(we),l(Ee),l(ye),l(Ct,8))};static \u0275cmp=g({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[xe([_t]),Se,Me],decls:0,vars:0,template:function(t,i){},dependencies:[Y,X],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})(),He=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=W({type:e});static \u0275inj=K({imports:[A]})}return e})();var yt=()=>["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],wt=e=>({height:500,menubar:!1,plugins:e,toolbar:`undo redo | formatselect | bold italic | 
        alignleft aligncenter alignright | 
        bullist numlist outdent indent | help`}),qe=(()=>{let n=class n{constructor(t,i,r){this.authService=t,this.notesService=i,this.router=r,this.noteTitle="",this.noteContent=""}saveNote(){let t=this.authService.getUser();console.log("Propietario de la nota:",t);let i={_id:de(),title:this.noteTitle,content:this.noteContent,owner:t};this.notesService.createNote(i).subscribe(()=>{console.log("Nota creada con \xE9xito"),this.router.navigate(["/user/notes"])},r=>{console.error("Error al crear la nota:",r)})}};n.\u0275fac=function(i){return new(i||n)(l(b),l(N),l(_))},n.\u0275cmp=g({type:n,selectors:[["app-note-create"]],decls:5,vars:6,consts:[[1,"note-editor"],["type","text","placeholder","T\xEDtulo de la nota",3,"ngModelChange","ngModel"],["apiKey","r22bw6slpw1ctqhev542lkrhcvd71a4lsxpwb0h3p5uy0l5u",3,"ngModelChange","init","ngModel"],[3,"click"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"input",1),E("ngModelChange",function(p){return M(r.noteTitle,p)||(r.noteTitle=p),p}),a(),c(2,"editor",2),E("ngModelChange",function(p){return M(r.noteContent,p)||(r.noteContent=p),p}),a(),c(3,"button",3),h("click",function(){return r.saveNote()}),d(4,"Guardar"),a()()),i&2&&(u(),x("ngModel",r.noteTitle),u(),v("init",q(4,wt,Z(3,yt))),x("ngModel",r.noteContent))},dependencies:[T,R,j,A],styles:[".note-editor[_ngcontent-%COMP%]{width:80%;margin:auto}.note-editor[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.note-editor[_ngcontent-%COMP%]   editor[_ngcontent-%COMP%]{margin-bottom:20px}.note-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.note-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let e=n;return e})();var oe=(()=>{let n=class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api/friends"}getAllFriends(){return this.http.get(this.apiUrl)}getFriendsByUsername(t){return this.http.get(`${this.apiUrl}/username/${t}`)}createFriend(t){return this.http.post(this.apiUrl,t)}deleteFriendByUsername(t,i){return this.http.delete(`${this.apiUrl}/username/${t}/friend/${i}`)}};n.\u0275fac=function(i){return new(i||n)(F(k))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function St(e,n){if(e&1&&(c(0,"div")(1,"h3"),d(2),a(),I(3,"div",1),a()),e&2){let o=n.$implicit;u(2),S(o.title),u(),v("innerHTML",o.content,H)}}function xt(e,n){if(e&1&&(c(0,"div")(1,"h2"),d(2),a(),y(3,St,4,2,"div",0),a()),e&2){let o=n.$implicit;u(2),S(o.friend.friend),u(),v("ngForOf",o.notes)}}var Xe=(()=>{let n=class n{constructor(t,i,r){this.authService=t,this.friendsService=i,this.notesService=r,this.user="",this.friendsWithNotes=[]}ngOnInit(){this.user=this.authService.getUser(),this.loadFriendsWithNotes()}loadFriendsWithNotes(){this.friendsService.getFriendsByUsername(this.user).subscribe(t=>{t.forEach(i=>{this.notesService.getNotesByOwner(i.friend).subscribe(r=>{this.friendsWithNotes.push({friend:i,notes:r})})})})}};n.\u0275fac=function(i){return new(i||n)(l(b),l(oe),l(N))},n.\u0275cmp=g({type:n,selectors:[["app-friend-notes"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,r){i&1&&y(0,xt,4,2,"div",0),i&2&&v("ngForOf",r.friendsWithNotes)},dependencies:[P]});let e=n;return e})();function Mt(e,n){if(e&1){let o=V();c(0,"li"),d(1),c(2,"button",2),h("click",function(){let i=U(o).$implicit,r=w();return D(r.deleteFriend(i))}),d(3,"Eliminar amigo"),a()()}if(e&2){let o=n.$implicit;u(),G(" ",o," ")}}var Je=(()=>{let n=class n{constructor(t,i,r){this.authService=t,this.userService=i,this.friendsService=r,this.username="",this.searchUser="",this.friends=[]}ngOnInit(){this.username=this.authService.getUser(),this.loadFriends()}loadFriends(){this.friendsService.getFriendsByUsername(this.username).subscribe(t=>{this.friends=t.map(i=>i.friend)})}addFriend(){if(this.searchUser===this.username){alert("No puedes hacerte amigo de ti mismo.");return}this.userService.checkUsernameExists(this.searchUser).subscribe(t=>{t?this.friendsService.createFriend({username:this.username,friend:this.searchUser,_id:""}).subscribe(()=>{this.friendsService.createFriend({username:this.searchUser,friend:this.username,_id:""}).subscribe(()=>{this.loadFriends()})}):alert("El usuario no existe")})}deleteFriend(t){this.friendsService.deleteFriendByUsername(this.username,t).subscribe(()=>{this.friendsService.deleteFriendByUsername(t,this.username).subscribe(()=>{this.loadFriends()})})}};n.\u0275fac=function(i){return new(i||n)(l(b),l(B),l(oe))},n.\u0275cmp=g({type:n,selectors:[["app-friend-manage"]],decls:11,vars:2,consts:[[1,"container"],["placeholder","Buscar usuario",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"h1"),d(2,"Gestionar amigos"),a(),c(3,"input",1),E("ngModelChange",function(p){return M(r.searchUser,p)||(r.searchUser=p),p}),a(),c(4,"button",2),h("click",function(){return r.addFriend()}),d(5,"Agregar amigo"),a(),I(6,"hr"),c(7,"h2"),d(8,"Mis amigos"),a(),c(9,"ul"),y(10,Mt,4,1,"li",3),a()()),i&2&&(u(3),x("ngModel",r.searchUser),u(7),v("ngForOf",r.friends))},dependencies:[T,R,j,P]});let e=n;return e})();var Et=()=>["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],Nt=e=>({height:500,menubar:!1,plugins:e,toolbar:`undo redo | formatselect | bold italic | 
          alignleft aligncenter alignright | 
          bullist numlist outdent indent | help`}),Qe=(()=>{let n=class n{constructor(t,i,r){this.route=t,this.notesService=i,this.router=r,this.note={_id:"",title:"",content:"",owner:""}}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadNote(t)}loadNote(t){this.notesService.getNoteById(t).subscribe(i=>{this.note=i})}saveNote(){this.notesService.updateNote(this.note).subscribe(()=>{console.log("Nota actualizada con \xE9xito"),this.router.navigate(["/user/notes"])},t=>{console.error("Error al actualizar la nota:",t)})}};n.\u0275fac=function(i){return new(i||n)(l(Fe),l(N),l(_))},n.\u0275cmp=g({type:n,selectors:[["app-notes-edit"]],decls:5,vars:6,consts:[[1,"note-editor"],["type","text","placeholder","T\xEDtulo de la nota",3,"ngModelChange","ngModel"],["apiKey","r22bw6slpw1ctqhev542lkrhcvd71a4lsxpwb0h3p5uy0l5u",3,"ngModelChange","init","ngModel"],[3,"click"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"input",1),E("ngModelChange",function(p){return M(r.note.title,p)||(r.note.title=p),p}),a(),c(2,"editor",2),E("ngModelChange",function(p){return M(r.note.content,p)||(r.note.content=p),p}),a(),c(3,"button",3),h("click",function(){return r.saveNote()}),d(4,"Guardar"),a()()),i&2&&(u(),x("ngModel",r.note.title),u(),v("init",q(4,Nt,Z(3,Et))),x("ngModel",r.note.content))},dependencies:[T,R,j,A]});let e=n;return e})();var It=[{path:"",component:Pe},{path:"notes",component:Te},{path:"notes/create",component:qe},{path:"friendship",component:Re},{path:"friendship/friendNotes",component:Xe},{path:"friendship/friendManage",component:Je},{path:"notes/edit/:id",component:Qe}],_n=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=W({type:n}),n.\u0275inj=K({imports:[X,Y,He,Ue.forChild(It)]});let e=n;return e})();export{_n as UserModule};
