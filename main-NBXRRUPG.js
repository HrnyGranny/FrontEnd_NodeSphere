import{$ as U,A as w,D as M,E as I,F as a,G as s,H as D,J as P,K as N,L as m,M as j,O as E,P as O,Q as R,X as A,Y as K,aa as L,ba as Z,ca as F,fa as k,ha as q,ia as z,ja as B,ka as V,la as W,m as C,n as l,oa as G,p as f,q as h,qa as v,r as u,ta as H,ua as b,va as _,wa as d,z as g}from"./chunk-YPBYPRW2.js";function oe(t,e){if(t&1&&(a(0,"div",10),m(1),s()),t&2){let o=N();g(),j(o.error)}}var Q=(()=>{let e=class e{constructor(i,n){this.authService=i,this.router=n,this.username="",this.password="",this.error=""}login(){this.authService.login(this.username,this.password).subscribe(()=>{this.authService.getRole()==="Y"?this.router.navigate(["/admin"]):this.router.navigate(["/user"])},i=>{this.error=i.error.message})}};e.\u0275fac=function(n){return new(n||e)(w(d),w(b))},e.\u0275cmp=h({type:e,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"container"],[1,"form-login"],[3,"submit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"btn-login"],[1,"error"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Login"),s(),a(4,"form",2),P("submit",function(){return r.login()}),a(5,"div",3)(6,"label",4),m(7,"Username:"),s(),a(8,"input",5),R("ngModelChange",function(c){return O(r.username,c)||(r.username=c),c}),s()(),a(9,"div",3)(10,"label",6),m(11,"Password:"),s(),a(12,"input",7),R("ngModelChange",function(c){return O(r.password,c)||(r.password=c),c}),s()(),M(13,oe,2,1,"div",8),a(14,"button",9),m(15,"Login"),s()()()()),n&2&&(g(8),E("ngModel",r.username),g(4),E("ngModel",r.password),g(),I("ngIf",r.error))},dependencies:[A,W,k,q,z,G,V,B],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#5e7f88;font-family:DM Sans,sans-serif;position:absolute;inset:0}.form-login[_ngcontent-%COMP%]{padding:40px;background-color:#fdfeee;border:1px solid #000;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:400px;display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#000;margin-bottom:20px;text-align:center}label[_ngcontent-%COMP%]{color:#000;display:block;margin-bottom:10px;font-size:16px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}button[_ngcontent-%COMP%]{width:100%;padding:15px;border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:16px;margin-top:20px;box-shadow:0 4px 8px #0000001a}.btn-login[_ngcontent-%COMP%]{background-color:#fbb566}button[_ngcontent-%COMP%]:hover{opacity:.9}.error[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:14px}"]});let t=e;return t})();var y=(()=>{let e=class e{constructor(i,n){this.authService=i,this.router=n}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(n){return new(n||e)(f(d),f(b))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Q},{path:"admin",loadChildren:()=>import("./chunk-S3XDBPKW.js").then(t=>t.AdminModule),canActivate:[y]},{path:"user",loadChildren:()=>import("./chunk-SGMRPHGM.js").then(t=>t.UserModule),canActivate:[y]}],X=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e}),e.\u0275inj=l({imports:[_.forRoot(re),_]});let t=e;return t})();function ae(t,e,o){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");typeof e=="function"&&(o=e,e={}),e=e||{},o=o||function(){},n.type=e.type||"text/javascript",n.charset=e.charset||"utf8",n.async="async"in e?!!e.async:!0,n.src=t,e.attrs&&se(n,e.attrs),e.text&&(n.text=String(e.text));var r="onload"in n?$:de;r(n,o),n.onload||$(n,o),i.appendChild(n)}function se(t,e){for(var o in e)t.setAttribute(o,e[o])}function $(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function de(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var x;function S(t,e){return"CKEDITOR"in window?Promise.resolve(CKEDITOR):typeof t!="string"||t.length<1?Promise.reject(new TypeError("CKEditor URL must be a non-empty string.")):(x||(x=S.scriptLoader(t).then(function(o){return e&&e(o),o})),x)}S.scriptLoader=function(t){return new Promise(function(e,o){ae(t,function(i){if(x=void 0,i)return o(i);if(!window.CKEDITOR)return o(new Error("Script loaded from editorUrl doesn't provide CKEDITOR namespace."));e(CKEDITOR)})})};var ee=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=u({type:t}),t.\u0275inj=l({imports:[[v,K]]}),t})();var te=(()=>{let e=class e{constructor(){this.title="FrontEnd"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=h({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&D(0,"router-outlet")},dependencies:[H]});let t=e;return t})();var ne=(()=>{let e=class e{constructor(i){this.authService=i}intercept(i,n){let r=this.authService.getToken();return r&&(i=i.clone({setHeaders:{Authorization:`Bearer ${r}`}})),n.handle(i)}};e.\u0275fac=function(n){return new(n||e)(f(d))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();var ie=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e,bootstrap:[te]}),e.\u0275inj=l({providers:[d,y,{provide:U,useClass:ne,multi:!0}],imports:[F,X,L,v,ee]});let t=e;return t})();Z().bootstrapModule(ie).catch(t=>console.error(t));
