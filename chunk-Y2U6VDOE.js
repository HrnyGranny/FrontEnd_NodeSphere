import{a as k,b as F}from"./chunk-7357LMBM.js";import{$ as X,A as c,B as Se,Ba as je,D as Z,Da as C,E as Pe,F as m,Fa as ze,G as u,Ga as Ae,Ha as v,Ia as W,J as Ee,Ja as j,K as ke,L as w,M as x,N as a,O as s,P as O,Q as L,R as p,S as M,T as d,U as g,V as Fe,W as S,X as P,Y as E,Z as Ne,_ as Be,a as K,aa as Ie,b as $,ca as D,d as q,da as De,e as me,ea as J,f as fe,fa as Re,g as ge,ga as Te,h as se,i as he,j as be,k as xe,l as Ce,m as ae,ma as Ue,o as ve,oa as R,p as _e,q as G,qa as T,r as we,s as Me,ta as U,u as b,v as Y,w as ye,x as B,y as I,z as Oe,za as Q}from"./chunk-BNCUL27B.js";var H=q(W());var ee=(()=>{let o=class o{constructor(t){this.http=t,this.apiUrl=`${Ae.apiUrl}/api/requests`}getRequests(t){return this.http.get(`${this.apiUrl}/${t}`)}createRequest(t,n,i){let l={username:t,sender:n,status:i};return this.http.post(this.apiUrl,l)}updateRequest(t,n,i,l){let f={username:n,sender:i,status:l};return this.http.put(`${this.apiUrl}/${t}`,f)}};o.\u0275fac=function(n){return new(n||o)(Me(Te))},o.\u0275prov=_e({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();var Le=(()=>{let o=class o{constructor(t,n,i,l,f){this.authService=t,this.router=n,this.userService=i,this.requestsService=l,this.friendsService=f,this.username=""}ngOnInit(){this.username=this.authService.getUser(),this.requestsService.getRequests(this.username).subscribe(t=>{this.handleFriendRequests(this.removeDuplicateRequests(t))},t=>{console.error("Error getting requests:",t)})}handleFriendRequests(t){if(t.length===0)return;let n=t.pop();n&&n.status==="wait"?this.handleFriendRequest(n).then(()=>{this.handleFriendRequests(t)}):this.handleFriendRequests(t)}removeDuplicateRequests(t){let n=[],i=new Set;for(let l of t)i.has(l.sender)||(i.add(l.sender),n.push(l));return n}handleFriendRequest(t){return this.showFriendRequestAlert(t).then(n=>{n.isConfirmed?this.updateRequestStatus(t,"ok"):n.isDismissed&&this.updateRequestStatus(t,"out")})}showFriendRequestAlert(t){return H.default.fire({title:"Friend request",text:`You have a friend request from ${t.sender}`,showCancelButton:!0,confirmButtonText:"Accept",cancelButtonText:"Decline"})}updateRequestStatus(t,n){this.requestsService.updateRequest(t._id,t.username,t.sender,n).subscribe(()=>{console.log("Request status updated successfully"),n==="ok"&&this.createFriendship(t.sender)},i=>{console.error("Error updating request status:",i)})}createFriendship(t){this.friendsService.createFriend({username:this.username,friend:t,_id:""}).subscribe(()=>{this.friendsService.createFriend({username:t,friend:this.username,_id:""}).subscribe(()=>{console.log("Friendship created successfully")})})}notes(){this.router.navigate(["/user/notes"])}friendship(){this.router.navigate(["/user/friendship"])}return(){this.router.navigate(["/admin"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}deleteAccount(){H.default.fire({title:"Are you sure you want to delete this account?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!"}).then(t=>{t.isConfirmed&&this.userService.deleteUser(this.username).subscribe(()=>{H.default.fire({icon:"success",title:"Account deleted successfully",timer:2e3,showConfirmButton:!1}),this.authService.logout(),this.router.navigate(["/login"])},n=>{H.default.fire({icon:"error",title:"Error",text:"Error deleting the account",timer:2e3,showConfirmButton:!1})})})}};o.\u0275fac=function(n){return new(n||o)(u(v),u(C),u(j),u(ee),u(F))},o.\u0275cmp=b({type:o,selectors:[["app-admin-home"]],decls:25,vars:1,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],[1,"main-action-button"],[3,"click"],[1,"logout-banner"],[1,"return-button"],[1,"logout-button"],[1,"delete-account-button",3,"click"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),d(3,"NoteSphere"),s()(),a(4,"div",3)(5,"div",4)(6,"button",5),p("click",function(){return i.notes()}),d(7,"Notes"),s()(),a(8,"div",4)(9,"button",5),p("click",function(){return i.friendship()}),d(10,"Friendship"),s()()(),a(11,"div",6)(12,"div",7)(13,"button",5),p("click",function(){return i.return()}),d(14,"Return"),s()(),a(15,"span"),d(16,"Welcome again, "),a(17,"span",2),d(18),s(),d(19,"!"),s(),a(20,"div",8)(21,"button",5),p("click",function(){return i.logout()}),d(22,"Exit"),s(),a(23,"button",9),p("click",function(){return i.deleteAccount()}),d(24,"Delete Account"),s()()()()),n&2&&(m(18),g(i.username))},styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:60px;display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:40px;margin-bottom:60px;position:absolute;inset:0}.main-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:50px 100px;border-radius:8px;margin:50px;font-size:35px;cursor:pointer;box-shadow:0 7px 14px #0000001a}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 -4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;visibility:hidden}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;margin-right:20px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.logout-button[_ngcontent-%COMP%]   .delete-account-button[_ngcontent-%COMP%]{background-color:tomato}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .main-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let e=o;return e})();var _=q(W());function dt(e,o){if(e&1){let r=L();a(0,"a",19),p("click",function(){let n=B(r).$implicit,i=M().$implicit,l=M(2);return I(l.compartirNota(i,n))}),d(1),s()}if(e&2){let r=o.$implicit;m(),g(r.friend)}}function lt(e,o){if(e&1){let r=L();a(0,"div",11)(1,"h2"),d(2),s(),O(3,"div",12),a(4,"button",13),p("click",function(){let n=B(r).$implicit,i=M(2);return I(i.editarNota(n))}),d(5,"Edit"),s(),a(6,"button",14),p("click",function(){let n=B(r).$implicit,i=M(2);return I(i.eliminarNota(n._id))}),d(7,"Delete"),s(),a(8,"div",15)(9,"button",16),d(10," Share "),s(),a(11,"div",17),w(12,dt,2,1,"a",18),s()()()}if(e&2){let r=o.$implicit,t=M(2);m(2),g(r.title),m(),x("innerHTML",r.content,Z),m(9),x("ngForOf",t.amigos)}}function ut(e,o){if(e&1&&(a(0,"div"),w(1,lt,13,3,"div",10),s()),e&2){let r=M();m(),x("ngForOf",r.notas)}}function pt(e,o){e&1&&(a(0,"div")(1,"p"),d(2,"No hay notas disponibles."),s()())}var He=(()=>{let o=class o{constructor(t,n,i,l,f){this.notesService=t,this.authService=n,this.router=i,this.userService=l,this.friendsService=f,this.notas=[],this.amigos=[],this.username=""}ngOnInit(){this.username=this.authService.getUser(),this.obtenerNotasPorUsuario(this.username),this.obtenerUsuarios()}obtenerNotasPorUsuario(t){this.notesService.getNotesByOwner(t).subscribe(n=>{this.notas=n},n=>{_.default.fire({title:"Error getting the notes",icon:"error",showConfirmButton:!1,timer:2e3})})}obtenerUsuarios(){this.friendsService.getFriendsByUsername(this.username).subscribe(t=>{this.amigos=t},t=>{_.default.fire({title:"Error al obtener los amigos",icon:"error",showConfirmButton:!1,timer:2e3})})}eliminarNota(t){_.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.notesService.deleteNote(t).subscribe(()=>{this.notas=this.notas.filter(i=>i._id!==t),_.default.fire({title:"Note successfully deleted.",icon:"success",showConfirmButton:!1,timer:2e3})},i=>{_.default.fire({title:"Error deleting the note",icon:"error",showConfirmButton:!1,timer:2e3})})})}editarNota(t){this.router.navigate(["/user/notes/edit",t._id])}compartirNota(t,n){if(n.friend===this.username){_.default.fire({title:"You cannot share a note with yourself.",icon:"error",showConfirmButton:!1,timer:2e3});return}this.notesService.getNotesByOwner(n.friend).subscribe(i=>{if(i.find(f=>f.title===t.title&&f.content===t.content))_.default.fire({title:"The friend already has this note.",icon:"error",showConfirmButton:!1,timer:2e3});else{let f=$(K({},t),{owner:n.friend});this.notesService.createNote(f).subscribe(()=>{_.default.fire({title:"Note successfully shared.",icon:"success",showConfirmButton:!1,timer:2e3})},Rt=>{_.default.fire({title:"Error sharing the note",icon:"error",showConfirmButton:!1,timer:2e3})})}},i=>{_.default.fire({title:"Error sharing the note",icon:"error",showConfirmButton:!1,timer:2e3})})}navigateToCreateNote(){this.router.navigate(["/user/notes/create"])}return(){this.router.navigate(["/user"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};o.\u0275fac=function(n){return new(n||o)(u(k),u(v),u(C),u(j),u(F))},o.\u0275cmp=b({type:o,selectors:[["app-notas"]],decls:21,vars:3,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],[1,"add-note",3,"click"],[4,"ngIf"],[1,"logout-banner"],[1,"return-button"],[3,"click"],[1,"logout-button"],["class","nota",4,"ngFor","ngForOf"],[1,"nota"],[3,"innerHTML"],[1,"btn-primary",3,"click"],[1,"btn-danger",3,"click"],[1,"dropdown"],["id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn-success"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),d(3,"Notes"),s()(),a(4,"div",3)(5,"button",4),p("click",function(){return i.navigateToCreateNote()}),d(6,"New Note"),s(),w(7,ut,2,1,"div",5)(8,pt,3,0,"div",5),s(),a(9,"div",6)(10,"div",7)(11,"button",8),p("click",function(){return i.return()}),d(12,"Return"),s()(),a(13,"span"),d(14,"Hi, "),a(15,"span",2),d(16),s(),d(17,"!"),s(),a(18,"div",9)(19,"button",8),p("click",function(){return i.logout()}),d(20,"Exit"),s()()()()),n&2&&(m(7),x("ngIf",i.notas.length>0),m(),x("ngIf",i.notas.length===0),m(8),g(i.username))},dependencies:[D,De],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;z-index:10;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:100px;margin-top:50px;position:absolute;inset:0 0 60px;box-sizing:border-box;overflow-y:auto;display:flex;flex-direction:column;align-items:center}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566;z-index:10}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.nota[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;padding:20px;box-shadow:0 4px 8px #0000001a;display:flex;flex-direction:column;min-width:276px;max-width:100%;width:auto;margin:20px;box-sizing:border-box;text-align:center}.nota[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;text-align:center}.nota[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]{flex-grow:1;padding:10px 0}.nota[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#5e7f88;margin-top:10px;width:100%;padding:10px 0;color:#fff;border-radius:5px;border:none;cursor:pointer}.nota[_ngcontent-%COMP%]   button.btn-danger[_ngcontent-%COMP%], .nota[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:tomato;color:#fff;border-radius:5px}.nota[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:#fbb566}.nota[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.add-note[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;display:block;font-size:20px;align-items:center}.add-note[_ngcontent-%COMP%]:hover{opacity:.9}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:relative;background-color:#f9f9f9;box-shadow:0 8px 16px #0003;z-index:1;width:100%;border-radius:8px}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:10px;clear:both;font-weight:400;color:#333;text-align:center;background-color:transparent;border:none;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#fbb566}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}"]});let e=o;return e})();var Ke=(()=>{let o=class o{constructor(t,n){this.authService=t,this.router=n,this.username=""}ngOnInit(){this.username=this.authService.getUser(),console.log("Propietario de la nota:",this.username)}manageFriends(){this.router.navigate(["/user/friendship/friendManage"])}friendNotes(){this.router.navigate(["/user/friendship/friendNotes"])}return(){this.router.navigate(["/user"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};o.\u0275fac=function(n){return new(n||o)(u(v),u(C))},o.\u0275cmp=b({type:o,selectors:[["app-friendship"]],decls:23,vars:1,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],[1,"main-action-button"],[3,"click"],[1,"logout-banner"],[1,"return-button"],[1,"logout-button"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),d(3,"Friendship"),s()(),a(4,"div",3)(5,"div",4)(6,"button",5),p("click",function(){return i.manageFriends()}),d(7,"Manage friends"),s()(),a(8,"div",4)(9,"button",5),p("click",function(){return i.friendNotes()}),d(10,"Friends notes"),s()()(),a(11,"div",6)(12,"div",7)(13,"button",5),p("click",function(){return i.return()}),d(14,"Return"),s()(),a(15,"span"),d(16,"Welcome again, "),a(17,"span",2),d(18),s(),d(19,"!"),s(),a(20,"div",8)(21,"button",5),p("click",function(){return i.logout()}),d(22,"Exit"),s()()()()),n&2&&(m(18),g(i.username))},styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:60px;display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:40px;margin-bottom:60px;position:absolute;inset:0}.main-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:50px 100px;border-radius:8px;margin:50px;font-size:35px;cursor:pointer;box-shadow:0 7px 14px #0000001a}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 -4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;margin-right:20px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.logout-button[_ngcontent-%COMP%]   .delete-account-button[_ngcontent-%COMP%]{background-color:tomato}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .main-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let e=o;return e})();var te,mt=new Uint8Array(16);function le(){if(!te&&(te=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return te(mt)}var $e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ft(e){return typeof e=="string"&&$e.test(e)}var Ge=ft;var h=[];for(ne=0;ne<256;++ne)h.push((ne+256).toString(16).substr(1));var ne;function gt(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(h[e[o+0]]+h[e[o+1]]+h[e[o+2]]+h[e[o+3]]+"-"+h[e[o+4]]+h[e[o+5]]+"-"+h[e[o+6]]+h[e[o+7]]+"-"+h[e[o+8]]+h[e[o+9]]+"-"+h[e[o+10]]+h[e[o+11]]+h[e[o+12]]+h[e[o+13]]+h[e[o+14]]+h[e[o+15]]).toLowerCase();if(!Ge(r))throw TypeError("Stringified UUID is invalid");return r}var Ye=gt;function ht(e,o,r){e=e||{};var t=e.random||(e.rng||le)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,o){r=r||0;for(var n=0;n<16;++n)o[r+n]=t[n];return o}return Ye(t)}var ue=ht;var pe=q(W());var oe=()=>{let e=typeof window<"u"?window:void 0;return e&&e.tinymce?e.tinymce:null},bt=(()=>{class e{onBeforePaste=new c;onBlur=new c;onClick=new c;onCompositionEnd=new c;onCompositionStart=new c;onCompositionUpdate=new c;onContextMenu=new c;onCopy=new c;onCut=new c;onDblclick=new c;onDrag=new c;onDragDrop=new c;onDragEnd=new c;onDragGesture=new c;onDragOver=new c;onDrop=new c;onFocus=new c;onFocusIn=new c;onFocusOut=new c;onKeyDown=new c;onKeyPress=new c;onKeyUp=new c;onMouseDown=new c;onMouseEnter=new c;onMouseLeave=new c;onMouseMove=new c;onMouseOut=new c;onMouseOver=new c;onMouseUp=new c;onPaste=new c;onSelectionChange=new c;onActivate=new c;onAddUndo=new c;onBeforeAddUndo=new c;onBeforeExecCommand=new c;onBeforeGetContent=new c;onBeforeRenderUI=new c;onBeforeSetContent=new c;onChange=new c;onClearUndos=new c;onDeactivate=new c;onDirty=new c;onExecCommand=new c;onGetContent=new c;onHide=new c;onInit=new c;onInput=new c;onInitNgModel=new c;onLoadContent=new c;onNodeChange=new c;onPostProcess=new c;onPostRender=new c;onPreInit=new c;onPreProcess=new c;onProgressState=new c;onRedo=new c;onRemove=new c;onReset=new c;onResizeEditor=new c;onSaveContent=new c;onSetAttrib=new c;onObjectResizeStart=new c;onObjectResized=new c;onObjectSelected=new c;onSetContent=new c;onShow=new c;onSubmit=new c;onUndo=new c;onVisualAid=new c;static \u0275fac=function(t){return new(t||e)};static \u0275dir=ye({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}})}return e})(),Ze=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ie=(e,o,r)=>se(e,o).pipe(ae(r)),xt=(e,o,r)=>{Ct(e).forEach(n=>{let i=e[n];ie(o,n.substring(2),r).subscribe(l=>{Mt(i)&&e.ngZone.run(()=>i.emit({event:l,editor:o}))})})},Ct=e=>{let o=Xe(e.ignoreEvents,[]);return Xe(e.allowedEvents,Ze).filter(t=>Ze.includes(t)&&!o.includes(t))},Xe=(e,o)=>typeof e=="string"?e.split(",").map(r=>r.trim()):Array.isArray(e)?e:o,Je=0,vt=e=>{let r=new Date().getTime(),t=Math.floor(Math.random()*1e9);return Je++,e+"_"+t+Je+String(r)},Qe=e=>typeof e<"u"&&e.tagName.toLowerCase()==="textarea",et=e=>typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" "),_t=(e,o)=>et(e).concat(et(o)),wt=()=>{},tt=e=>e==null,Mt=e=>e.observed||e.observers?.length>0,yt=()=>e=>e.pipe(be(),ge(()=>{})),Ot=()=>{let e=new fe(null),o=e.pipe(he(Boolean),Ce(([r,t])=>{let n=r.createElement("script");return n.referrerPolicy="origin",n.type="application/javascript",n.src=t,r.head.appendChild(n),se(n,"load").pipe(yt())}),xe({bufferSize:1,refCount:!0}));return{load:(...r)=>(e.getValue()||e.next(r),o),reinitialize:()=>{e.next(null)}}},St=Ot(),Pt=new we("TINYMCE_SCRIPT_SRC"),Et={provide:Ue,useExisting:ve(()=>V),multi:!0},V=(()=>{class e extends bt{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(r){this._disabled=r,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(r?"readonly":"design"):this._editor.setMode(r?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=wt;onChangeCallback;destroy$=new me;constructor(r,t,n,i,l){super(),this.cdRef=n,this.platformId=i,this.tinymceScriptSrc=l,this._elementRef=r,this.ngZone=t}writeValue(r){this._editor&&this._editor.initialized?this._editor.setContent(tt(r)?"":r):this.initialValue=r===null?void 0:r}registerOnChange(r){this.onChangeCallback=r}registerOnTouched(r){this.onTouchedCallback=r}setDisabledState(r){this.disabled=r}ngAfterViewInit(){Re(this.platformId)&&(this.id=this.id||vt("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),oe()!==null?this.initialise():this._element&&this._element.ownerDocument&&St.load(this._element.ownerDocument,this.getScriptSrc()).pipe(ae(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),oe()!==null&&oe().remove(this._editor)}createElement(){let r=typeof this.tagName=="string"?this.tagName:"div";this._element=document.createElement(this.inline?r:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Qe(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise=()=>{let r=$(K({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:_t(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:t=>{this._editor=t,ie(t,"init",this.destroy$).subscribe(()=>{this.initEditor(t)}),xt(this,t,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(t)}});Qe(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{oe().init(r)})};getScriptSrc(){return tt(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(r){ie(r,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),ie(r,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(r))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{r.setContent(this.initialValue),r.getContent()!==this.initialValue&&this.emitOnChange(r),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(r)})}emitOnChange(r){this.onChangeCallback&&this.onChangeCallback(r.getContent({format:this.outputFormat}))}static \u0275fac=function(t){return new(t||e)(u(Oe),u(Ee),u(Ie),u(Se),u(Pt,8))};static \u0275cmp=b({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[Ne([Et]),ke,Be],decls:0,vars:0,template:function(t,n){},dependencies:[J,Q],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})(),nt=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=Y({type:e});static \u0275inj=G({imports:[V]})}return e})();var kt=()=>({height:500,menubar:!1,plugins:"advlist autolink lists link image charmap print preview anchor help searchreplace visualblocks code insertdatetime media table paste wordcount",toolbar:`undo redo | formatselect | bold italic | 
        alignleft aligncenter alignright | 
        bullist numlist outdent indent | help`}),rt=(()=>{let o=class o{constructor(t,n,i){this.authService=t,this.notesService=n,this.router=i,this.noteTitle="",this.noteContent="",this.username=""}ngOnInit(){this.username=this.authService.getUser()}saveNote(){let t=this.authService.getUser(),n={_id:ue(),title:this.noteTitle,content:this.noteContent,owner:t};this.notesService.createNote(n).subscribe(()=>{pe.default.fire({title:"Note successfully created.",icon:"success",showConfirmButton:!1,timer:2e3}),this.router.navigate(["/user/notes"])},i=>{pe.default.fire({title:"Error creating the note",icon:"error",showConfirmButton:!1,timer:2e3})})}return(){this.router.navigate(["/user/notes"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};o.\u0275fac=function(n){return new(n||o)(u(v),u(k),u(C))},o.\u0275cmp=b({type:o,selectors:[["app-note-create"]],decls:22,vars:5,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],[1,"note-editor"],["type","text","placeholder","T\xEDtulo de la nota",3,"ngModelChange","ngModel"],["apiKey","r22bw6slpw1ctqhev542lkrhcvd71a4lsxpwb0h3p5uy0l5u",3,"ngModelChange","init","ngModel"],[3,"click"],[1,"logout-banner"],[1,"return-button"],[1,"logout-button"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),d(3,"New Note"),s()(),a(4,"div",3)(5,"div",4)(6,"input",5),E("ngModelChange",function(f){return P(i.noteTitle,f)||(i.noteTitle=f),f}),s(),a(7,"editor",6),E("ngModelChange",function(f){return P(i.noteContent,f)||(i.noteContent=f),f}),s(),a(8,"button",7),p("click",function(){return i.saveNote()}),d(9,"Guardar"),s()(),a(10,"div",8)(11,"div",9)(12,"button",7),p("click",function(){return i.return()}),d(13,"Return"),s()(),a(14,"span"),d(15,"Welcome again, "),a(16,"span",2),d(17),s(),d(18,"!"),s(),a(19,"div",10)(20,"button",7),p("click",function(){return i.logout()}),d(21,"Exit"),s()()()()()),n&2&&(m(6),S("ngModel",i.noteTitle),m(),x("init",X(4,kt)),S("ngModel",i.noteContent),m(10),g(i.username))},dependencies:[R,T,U,V],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;z-index:10;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:100px;margin-top:50px;position:absolute;inset:0 0 60px;box-sizing:border-box;overflow-y:auto;display:flex;flex-direction:column;align-items:center}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566;z-index:10}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.note-editor[_ngcontent-%COMP%]{width:80%;margin:auto}.note-editor[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.note-editor[_ngcontent-%COMP%]   editor[_ngcontent-%COMP%]{margin-bottom:20px}.note-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;margin-top:20px;align-items:center}.note-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let e=o;return e})();function Ft(e,o){if(e&1&&(a(0,"div",12)(1,"h3"),d(2),s(),O(3,"div",13),s()),e&2){let r=o.$implicit;m(2),g(r.title),m(),x("innerHTML",r.content,Z)}}function Nt(e,o){if(e&1&&(a(0,"div",9)(1,"h2"),d(2),s(),a(3,"div",10),w(4,Ft,4,2,"div",11),s()()),e&2){let r=o.$implicit;m(2),g(r.friend.friend),m(2),x("ngForOf",r.notes)}}var st=(()=>{let o=class o{constructor(t,n,i,l){this.authService=t,this.friendsService=n,this.notesService=i,this.router=l,this.user="",this.friendsWithNotes=[],this.username=""}ngOnInit(){this.user=this.authService.getUser(),this.username=this.authService.getUser(),this.loadFriendsWithNotes()}loadFriendsWithNotes(){this.friendsService.getFriendsByUsername(this.user).subscribe(t=>{t.forEach(n=>{this.notesService.getNotesByOwner(n.friend).subscribe(i=>{this.friendsWithNotes.push({friend:n,notes:i})})})})}return(){this.router.navigate(["/user/friendship"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};o.\u0275fac=function(n){return new(n||o)(u(v),u(F),u(k),u(C))},o.\u0275cmp=b({type:o,selectors:[["app-friend-notes"]],decls:18,vars:2,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],["class","friend-with-notes",4,"ngFor","ngForOf"],[1,"logout-banner"],[1,"return-button"],[3,"click"],[1,"logout-button"],[1,"friend-with-notes"],[1,"notes-container"],["class","note",4,"ngFor","ngForOf"],[1,"note"],[3,"innerHTML"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),d(3,"Friends Notes"),s()(),a(4,"div",3),w(5,Nt,5,2,"div",4),s(),a(6,"div",5)(7,"div",6)(8,"button",7),p("click",function(){return i.return()}),d(9,"Return"),s()(),a(10,"span"),d(11,"Hi, "),a(12,"span",2),d(13),s(),d(14,"!"),s(),a(15,"div",8)(16,"button",7),p("click",function(){return i.logout()}),d(17,"Exit"),s()()()()),n&2&&(m(5),x("ngForOf",i.friendsWithNotes),m(8),g(i.username))},dependencies:[D],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;z-index:10;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:140px;padding-bottom:100px;margin-top:0;gap:20px;position:absolute;inset:0 0 60px 15px;box-sizing:border-box;overflow-y:auto;display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:center;flex-direction:column}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 -4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.friend-with-notes[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;text-align:center}.friend-with-notes[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;background-color:#fbb566;color:#fff;padding:10px}.notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:start;padding:10px 0}.note[_ngcontent-%COMP%]{background-color:#f8f8f3;border:1px solid #ccc;margin:5px;padding:10px;border-radius:10px;box-shadow:0 4px 8px #0003;min-width:276px;max-width:320px}.note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.note[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]{margin-top:5px}"]});let e=o;return e})();var N=q(W());function Bt(e,o){if(e&1){let r=L();a(0,"li"),d(1),a(2,"button",14),p("click",function(){let n=B(r).$implicit,i=M();return I(i.deleteFriend(n))}),d(3,"Eliminar amigo"),s()()}if(e&2){let r=o.$implicit;m(),Fe(" ",r," ")}}var at=(()=>{let o=class o{constructor(t,n,i,l,f){this.authService=t,this.userService=n,this.friendsService=i,this.router=l,this.requestsService=f,this.username="",this.username1="",this.searchUser="",this.friends=[]}ngOnInit(){this.username=this.authService.getUser(),this.username1=this.authService.getUser(),this.loadFriends()}loadFriends(){this.friendsService.getFriendsByUsername(this.username).subscribe(t=>{this.friends=t.map(n=>n.friend)})}addFriend(){if(this.searchUser===this.username){N.default.fire({title:"You cannot befriend yourself.",icon:"error",showConfirmButton:!1,timer:2e3});return}if(this.friends.includes(this.searchUser)){N.default.fire({title:"This user is already your friend.",icon:"error",showConfirmButton:!1,timer:2e3});return}this.userService.checkUsernameExists(this.searchUser).subscribe(t=>{t?this.requestsService.createRequest(this.searchUser,this.username,"wait").subscribe(()=>{N.default.fire({title:"Friend request sent.",icon:"success",showConfirmButton:!1,timer:2e3})},n=>{console.error("Error sending friend request:",n)}):N.default.fire({title:"User does not exist",icon:"error",showConfirmButton:!1,timer:2e3})})}deleteFriend(t){N.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.friendsService.deleteFriendByUsername(this.username,t).subscribe(()=>{this.friendsService.deleteFriendByUsername(t,this.username).subscribe(()=>{this.loadFriends(),N.default.fire({title:"Friendship successfully deleted.",icon:"success",showConfirmButton:!1,timer:2e3})})})})}return(){this.router.navigate(["/user/friendship"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};o.\u0275fac=function(n){return new(n||o)(u(v),u(j),u(F),u(C),u(ee))},o.\u0275cmp=b({type:o,selectors:[["app-friend-manage"]],decls:29,vars:3,consts:[["href",Pe`//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css`,"rel","stylesheet"],[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],[1,"container-1"],[1,"icon"],[1,"fa","fa-search"],["placeholder","Search user...",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[1,"logout-banner"],[1,"return-button"],[1,"logout-button"],[1,"delete",3,"click"]],template:function(n,i){n&1&&(O(0,"link",0),a(1,"div",1)(2,"div",2)(3,"span",3),d(4,"Manage Friends"),s()(),a(5,"div",4)(6,"div",5)(7,"span",6),O(8,"i",7),s(),a(9,"input",8),E("ngModelChange",function(f){return P(i.searchUser,f)||(i.searchUser=f),f}),s()(),a(10,"button",9),p("click",function(){return i.addFriend()}),d(11,"Agregar amigo"),s(),O(12,"hr"),a(13,"h2"),d(14,"Mis amigos"),s(),a(15,"ul"),w(16,Bt,4,1,"li",10),s()(),a(17,"div",11)(18,"div",12)(19,"button",9),p("click",function(){return i.return()}),d(20,"Return"),s()(),a(21,"span"),d(22,"Hi, "),a(23,"span",3),d(24),s(),d(25,"!"),s(),a(26,"div",13)(27,"button",9),p("click",function(){return i.logout()}),d(28,"Exit"),s()()()()),n&2&&(m(9),S("ngModel",i.searchUser),m(7),x("ngForOf",i.friends),m(8),g(i.username))},dependencies:[R,T,U,D],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;z-index:10;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0;flex-direction:column}.content[_ngcontent-%COMP%]{padding-top:140px;padding-bottom:100px;margin-top:0;gap:20px;position:absolute;inset:0 0 60px 15px;box-sizing:border-box;overflow-y:auto;display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:center;flex-direction:column}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 -4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;margin:5px}button[_ngcontent-%COMP%]:hover{opacity:.9}button.delete[_ngcontent-%COMP%]{background-color:tomato}h2[_ngcontent-%COMP%]{width:60%;background-color:#fbb566;color:#fff;padding:10px;text-align:center;margin-top:20px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;width:60%;background-color:#f8f8f3;border:1px solid #ccc;box-shadow:0 4px 8px #0000001a}li[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:10px;display:flex;justify-content:space-between;align-items:center}input[type=text][_ngcontent-%COMP%]{width:80%;padding:10px;margin:20px 0;font-size:16px;border:2px solid #ccc;border-radius:8px}"]});let e=o;return e})();var re=q(W());var It=()=>({height:500,menubar:!1,themes:"modern",plugins:"advlist autolink lists link image charmap print preview anchor help searchreplace visualblocks code insertdatetime media table paste wordcount",toolbar:`undo redo | formatselect | bold italic | 
        alignleft aligncenter alignright | 
        bullist numlist outdent indent | help`}),ct=(()=>{let o=class o{constructor(t,n,i,l){this.route=t,this.notesService=n,this.router=i,this.authService=l,this.note={_id:"",title:"",content:"",owner:""},this.username=""}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadNote(t),this.username=this.authService.getUser()}loadNote(t){this.notesService.getNoteById(t).subscribe(n=>{this.note=n},n=>{re.default.fire({title:"Error loading the note",icon:"error",showConfirmButton:!1,timer:2e3})})}saveNote(){this.notesService.updateNote(this.note).subscribe(()=>{re.default.fire({title:"Note successfully updated.",icon:"success",showConfirmButton:!1,timer:2e3}),this.router.navigate(["/user/notes"])},t=>{re.default.fire({title:"Error updating the note",icon:"error",showConfirmButton:!1,timer:2e3})})}return(){this.router.navigate(["/user/notes"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};o.\u0275fac=function(n){return new(n||o)(u(je),u(k),u(C),u(v))},o.\u0275cmp=b({type:o,selectors:[["app-notes-edit"]],decls:21,vars:5,consts:[[1,"container"],[1,"welcome-banner"],["id","username"],[1,"content"],["type","text","placeholder","T\xEDtulo de la nota",1,"input",3,"ngModelChange","ngModel"],["apiKey","r22bw6slpw1ctqhev542lkrhcvd71a4lsxpwb0h3p5uy0l5u",1,"editor",3,"ngModelChange","init","ngModel"],[1,"button",3,"click"],[1,"logout-banner"],[1,"return-button"],[3,"click"],[1,"logout-button"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),d(3,"Note Edit"),s()(),a(4,"div",3)(5,"input",4),E("ngModelChange",function(f){return P(i.note.title,f)||(i.note.title=f),f}),s(),a(6,"editor",5),E("ngModelChange",function(f){return P(i.note.content,f)||(i.note.content=f),f}),s(),a(7,"button",6),p("click",function(){return i.saveNote()}),d(8,"Guardar"),s()(),a(9,"div",7)(10,"div",8)(11,"button",9),p("click",function(){return i.return()}),d(12,"Return"),s()(),a(13,"span"),d(14,"Welcome again, "),a(15,"span",2),d(16),s(),d(17,"!"),s(),a(18,"div",10)(19,"button",9),p("click",function(){return i.logout()}),d(20,"Exit"),s()()()()),n&2&&(m(5),S("ngModel",i.note.title),m(),x("init",X(4,It)),S("ngModel",i.note.content),m(10),g(i.username))},dependencies:[R,T,U,V],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;font-family:DM Sans,sans-serif;background-color:#fdfeee;height:calc(100vh - 100px);overflow:hidden}.welcome-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:40px 20px;text-align:center;font-size:36px;font-family:Oswald,sans-serif;border-bottom:5px solid #FBB566;z-index:10;width:100%;box-shadow:0 4px 8px #0000001a;position:fixed;top:0;left:0}.content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:100px;align-items:center;margin-top:50px;position:absolute;inset:0 0 60px;box-sizing:border-box;overflow-y:auto;display:flex;flex-direction:column}.logout-banner[_ngcontent-%COMP%]{background-color:#5e7f88;color:#fff;padding:20px;font-size:20px;font-family:Oswald,sans-serif;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 8px #0000001a;position:fixed;bottom:0;left:0;right:0;width:100%;border-top:5px solid #FBB566;z-index:10}.return-button[_ngcontent-%COMP%]{margin:0 10px}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.logout-button[_ngcontent-%COMP%]{margin:0 50px}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}button[_ngcontent-%COMP%]{background-color:#fbb566;color:#fff;padding:12px 20px;font-size:18px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;margin-top:20px}button[_ngcontent-%COMP%]:hover{opacity:.9}input[type=text][_ngcontent-%COMP%]{width:60%;padding:8px 12px;font-size:16px;margin-bottom:20px;border:2px solid #ccc;border-radius:5px;box-shadow:0 2px 4px #0000000d}.editor[_ngcontent-%COMP%]{width:90%}"]});let e=o;return e})();var Dt=[{path:"",component:Le},{path:"notes",component:He},{path:"notes/create",component:rt},{path:"friendship",component:Ke},{path:"friendship/friendNotes",component:st},{path:"friendship/friendManage",component:at},{path:"notes/edit/:id",component:ct}],kn=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=Y({type:o}),o.\u0275inj=G({imports:[Q,J,nt,ze.forChild(Dt)]});let e=o;return e})();export{kn as UserModule};
